<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Onix Project Loading...</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #000 url('Onix.png') no-repeat center center;
    background-size: cover;
    font-family: monospace;
    overflow: hidden;
    color: #fff;
  }

  /* Dark vignette with faint purple corners */
  body::before {
    content: '';
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
    background: radial-gradient(circle at top left, rgba(128,0,128,0.2), rgba(0,0,0,0.95) 60%),
                radial-gradient(circle at top right, rgba(128,0,128,0.2), rgba(0,0,0,0.95) 60%),
                radial-gradient(circle at bottom left, rgba(128,0,128,0.2), rgba(0,0,0,0.95) 60%),
                radial-gradient(circle at bottom right, rgba(128,0,128,0.2), rgba(0,0,0,0.95) 60%);
    z-index:0;
  }

  .laptop-wrapper { position: relative; display: flex; flex-direction: column; align-items: center; z-index:1; }

  .laptop {
    width: 700px;
    height: 450px;
    background: #000;
    border: 12px solid #222;
    border-radius: 12px;
    box-shadow: 0 15px 60px rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
  }

  .screen {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    color: #fff;
    overflow: hidden;
    padding: 20px;
    font-size: 16px;
    text-shadow: 0 0 5px #fff;
    background: #000;
    animation: flicker 0.15s infinite alternate;
    position: relative;
  }

  @keyframes flicker { 0% { opacity: 0.95; } 50% { opacity: 1; } 100% { opacity: 0.97; } }

  #boot { white-space: pre-wrap; width: 100%; }
  #cursor { display: inline-block; width: 10px; color: #fff; animation: blink 1s infinite; }
  @keyframes blink { 0%,50% {opacity:1;} 50.01%,100% {opacity:0;} }

  #documents { position: absolute; top: 20px; right: 20px; font-size: 14px; color: #ccc; text-align: right; }

  #flash { position: absolute; top:0; left:0; width:100%; height:100%; background:white; opacity:0; transition: opacity 0.2s; pointer-events:none; }

  #main { display:none; flex-direction:column; align-items:center; justify-content:center; text-align:center; background: rgba(0,31,63,0.9); color:white; width:100%; height:100%; position: relative; }

  #scp-logo { position: absolute; top:50%; left:50%; transform: translate(-50%, -50%) rotate(0deg); width: 150px; height: 150px; animation: spin 20s linear infinite; }
  @keyframes spin { 0% { transform: translate(-50%, -50%) rotate(0deg); } 100% { transform: translate(-50%, -50%) rotate(360deg); } }

  #loading-text { position:absolute; bottom:20px; font-size:20px; }

  .laptop-base {
    width:720px;
    height:60px;
    background:#111;
    border-radius:0 0 12px 12px;
    margin-top:-12px;
    box-shadow: 0 5px 40px rgba(0,0,0,0.8), inset 0 -2px 15px rgba(255,255,255,0.05);
    animation: keyboard-glow 2s infinite alternate;
  }

  @keyframes keyboard-glow {
    0% { box-shadow: 0 5px 40px rgba(0,0,0,0.8), inset 0 -2px 15px rgba(255,255,255,0.02);}
    50% { box-shadow: 0 5px 40px rgba(0,0,0,0.8), inset 0 -2px 15px rgba(255,255,255,0.08);}
    100% { box-shadow: 0 5px 40px rgba(0,0,0,0.8), inset 0 -2px 15px rgba(255,255,255,0.02);}
  }
</style>
</head>
<body>

<!-- Background music with muted autoplay and fade-in -->
<audio id="bg-music" autoplay loop muted>
  <source src="intro.mp3" type="audio/mpeg">
</audio>
<script>
const music = document.getElementById("bg-music");
music.volume = 0; // start silent
music.muted = false; // unmute to allow autoplay sound
const targetVolume = 0.2; // desired volume
const fadeDuration = 5000; // fade in 5 seconds
const fadeSteps = 50;
const fadeInterval = fadeDuration / fadeSteps;
let currentStep = 0;

function fadeInMusic() {
    currentStep++;
    music.volume = Math.min(targetVolume, (currentStep / fadeSteps) * targetVolume);
    if(currentStep < fadeSteps) setTimeout(fadeInMusic, fadeInterval);
}

// Small timeout ensures GMod HTML panel allows autoplay
setTimeout(fadeInMusic, 100);
</script>

<div class="laptop-wrapper">
  <div class="laptop">
    <div class="screen">
      <div id="boot"></div><span id="cursor">_</span>
      <div id="documents"></div>
      <div id="flash"></div>
      <div id="main">
        <img id="scp-logo" src="ScpLogo.png" alt="SCP Logo">
        <div id="loading-text">Onix Project Loading</div>
      </div>
    </div>
  </div>
  <div class="laptop-base"></div>
</div>

<script>
// Boot lines
const bootLines = [
  "PX Laptop BIOS v1.0",
  "CPU: Onix Virtual Core 3.2GHz",
  "Memory Test: 8192MB OK",
  "Loading Kernel...",
  "Starting Onix Project OS..."
];

// SCP documents
const scpDocuments = [
  "SCP-173_Report.txt",
  "SCP-096_Logs.docx",
  "SCP-049_Notes.pdf",
  "SCP-106_Containment.md",
  "SCP-682_Analysis.txt"
];

let lineIndex = 0, charIndex = 0;
const bootDiv = document.getElementById("boot");
const cursor = document.getElementById("cursor");
const docDiv = document.getElementById("documents");
const loadingText = document.getElementById("loading-text");

// Typing sound
let typeSound = new Audio("https://www.soundjay.com/mechanical/sounds/keyboard-1.mp3");
typeSound.volume = 0.15;
function playTypeSound(){ typeSound.currentTime=0; typeSound.play().catch(()=>{}); }

// Show SCP documents
docDiv.innerHTML = scpDocuments.join("<br>");

// Animated loading dots
let loadingDots="";
function updateLoadingDots(){
  if(loadingDots.length>=3) loadingDots="";
  else loadingDots += ".";
  loadingText.textContent = "Onix Project Loading"+loadingDots;
  setTimeout(updateLoadingDots,500);
}
updateLoadingDots();

// Typing animation
function typeChar(){
  if(lineIndex<bootLines.length){
    if(charIndex<bootLines[lineIndex].length){
      bootDiv.innerHTML += bootLines[lineIndex][charIndex];
      charIndex++;
      playTypeSound();
      setTimeout(typeChar,60);
    } else {
      bootDiv.innerHTML += "\n";
      lineIndex++; charIndex=0;
      setTimeout(typeChar,400);
    }
  } else {
    setTimeout(()=>{
      cursor.style.display="none";
      document.getElementById("flash").style.opacity=1;
      setTimeout(()=>{
        document.getElementById("boot").style.display="none";
        document.getElementById("main").style.display="flex";
        document.getElementById("flash").style.opacity=0;
      },200);
    },500);
  }
}
typeChar();
</script>
</body>
</html>

